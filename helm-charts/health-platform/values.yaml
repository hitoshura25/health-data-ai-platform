# Health Data AI Platform - Default Values
# This is the umbrella chart that deploys all components

# ==============================================================================
# Global Configuration
# ==============================================================================
global:
  # Image pull settings
  imagePullSecrets: []

  # Storage class for all persistent volumes (Oracle Cloud)
  storageClass: "oci-bv"

  # Monitoring namespace
  monitoring:
    namespace: health-observability
    enabled: true

  # Security settings
  podSecurityStandards:
    enforced: true
    profile: restricted

# ==============================================================================
# Infrastructure Layer (Module 2)
# ==============================================================================
infrastructure:
  enabled: true

  # All infrastructure values are defined in charts/infrastructure/values.yaml
  # Override specific values here if needed for development

  # Namespace for infrastructure services
  namespace: health-data

# ==============================================================================
# WebAuthn Stack (Module 3) ✅ IMPLEMENTED
# ==============================================================================
webauthn-stack:
  enabled: true

  # All WebAuthn values are defined in charts/webauthn-stack/values.yaml
  # Override specific values here if needed

  # Namespace for authentication services
  namespace: health-auth

  # Dependencies (from infrastructure module):
  # - PostgreSQL (postgresql-auth) in health-data namespace
  # - Redis (redis-auth) in health-data namespace

# ==============================================================================
# Health API Service (Module 4) ✅ IMPLEMENTED
# ==============================================================================
health-api:
  enabled: true

  # All Health API values are defined in charts/health-api/values.yaml
  # Override specific values here if needed

  # Namespace for health API
  namespace: health-api

  # Dependencies (from infrastructure module):
  # - PostgreSQL (health-data)
  # - Redis (health-data)
  # - MinIO (data lake)
  # - RabbitMQ (message queue)

# ==============================================================================
# ETL Narrative Engine (Module 4) ✅ IMPLEMENTED
# ==============================================================================
etl-engine:
  enabled: true

  # All ETL Engine values are defined in charts/etl-engine/values.yaml
  # Override specific values here if needed

  # Namespace for ETL processing
  namespace: health-etl

  # Dependencies (from infrastructure module):
  # - PostgreSQL (health-data)
  # - MinIO (data lake)
  # - RabbitMQ (message queue)

# ==============================================================================
# AI Query Interface (Future) - Not yet implemented
# ==============================================================================
ai-query:
  enabled: false

  # Future configuration for AI Query Interface
  # Will include:
  # - MLflow deployment
  # - Model serving
  # - Query API

# ==============================================================================
# Observability Stack (Module 5) ✅ IMPLEMENTED
# ==============================================================================
observability:
  enabled: true

  # All Observability values are defined in charts/observability/values.yaml
  # Override specific values here if needed

  # Namespace for observability services
  namespace: health-observability

  # Components:
  # - Prometheus (metrics collection, 30-day retention, 20GB storage)
  # - Grafana (dashboards and visualization, 5GB storage)
  # - Jaeger (distributed tracing, 10GB storage)
  # - Loki + Promtail (log aggregation, 7-day retention, 5GB storage)
  # - AlertManager (alerting and notifications, 5GB storage)

# ==============================================================================
# Deployment Notes
# ==============================================================================
#
# Current Status: ALL MODULES COMPLETE ✅
#   ✅ Module 1: Terraform Infrastructure (OKE cluster)
#   ✅ Module 2: Infrastructure Helm (PostgreSQL, Redis, MinIO, RabbitMQ)
#   ✅ Module 3: WebAuthn Stack Helm (Authentication)
#   ✅ Module 4: Health Services Helm (Health API, ETL Engine)
#   ✅ Module 5: Observability (Prometheus, Grafana, Jaeger, Loki)
#
# Prerequisites:
#   1. OKE cluster provisioned (terraform apply from terraform/environments/production/)
#   2. kubectl configured to access cluster
#   3. Namespaces will be created automatically
#   4. Docker images built and pushed to registry
#
# To deploy complete platform (development):
#   helm dependency update
#   helm install health-platform . \
#     --namespace health-data \
#     --create-namespace
#
# To deploy to production:
#   helm dependency update
#   helm install health-platform . \
#     -f values-production.yaml \
#     --namespace health-data \
#     --create-namespace
#
# To deploy only specific modules:
#   helm install health-platform . \
#     --set webauthn-stack.enabled=false \
#     --set health-api.enabled=false \
#     --namespace health-data
#
# ==============================================================================
